<div ng-controller="CapsuleController" ng-init="init()">
  <div class="row">
    <div class="small-12 columns">
      <h2 class="subheader">
        <!-- {{ time_groups }} -->
        {{ capsule_data.name }}
        <!-- <small>{{ visible_posts.length }}</small> -->
      </h2>
    </div>
  </div>
  <div class="row">
    <div class="small-12 columns">
      <p class="subheader">Pick a date to search for your photo then scroll down to see all photos from that day. Click a picture to download.</p>
      <select ng-model="group" ng-options="key as value for (key, value) in time_groups" ng-change="onGroupChange()">
      </select>
    </div>
  </div>
  <!-- {{ posts }} -->
  <div class="row">
    <div class="small-12 columns" id="isotopeContainer" isotope-container infinite-scroll="loadMorePosts()" infinite-scroll-distance="1">
        <div isotope-item ng-repeat="post in visible_posts | filter:group">
          <!-- {{ post }} -->
          <a href="{{ post.image }}" target="_blank"><img ng-src="{{ capsuleImage(post) }}" ng-show="isPhoto(post)" ng-click="seeOriginal(post)" width="280px" class="capsule_image"/></a>
          <p ng-hide="isPhoto(post)">{{ post.body }}</p>
        </div>
    </div>
  </div>
</div>
